<table class="min-w-full">
  <thead>
    <tr class="bg-gray-50">
      <th
        class="py-3 px-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"
      >
        Ticket
      </th>
      <th
        class="py-3 px-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"
      >
        Symbol
      </th>
      <th
        class="py-3 px-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"
      >
        Type
      </th>
      <th
        class="py-3 px-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"
      >
        Volume
      </th>
      <th
        class="py-3 px-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"
      >
        Entry
      </th>
      <th
        class="py-3 px-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"
      >
        Exit
      </th>
      <th
        class="py-3 px-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"
      >
        Profit
      </th>
    </tr>
  </thead>
  <tbody class="divide-y divide-gray-200">
    {% if history %} {% for trade in history %}
    <tr class="hover:bg-gray-50">
      <td class="py-3 px-4 whitespace-nowrap">
        {{ trade.ticket|default('N/A') }}
      </td>
      <td class="py-3 px-4 whitespace-nowrap">
        {{ trade.symbol|default('N/A') }}
      </td>
      <td class="py-3 px-4 whitespace-nowrap">
        <span
          class="px-2 py-1 text-xs rounded-full {{ 'bg-green-100 text-green-800' if trade.type|default('') == 'BUY' else 'bg-red-100 text-red-800' }}"
        >
          {{ trade.type|default('N/A') }}
        </span>
      </td>
      <td class="py-3 px-4 whitespace-nowrap">
        {{ trade.volume|default('N/A') }}
      </td>
      <td class="py-3 px-4 whitespace-nowrap">
        {{ trade.price_open|default('N/A') }}
      </td>
      <td class="py-3 px-4 whitespace-nowrap">
        {{ trade.price_close|default('N/A') }}
      </td>
      <td
        class="py-3 px-4 whitespace-nowrap font-medium {{ 'text-green-600' if trade.profit|default(0) >= 0 else 'text-red-600' }}"
      >
        {{ trade.profit|default(0) }}
      </td>
    </tr>
    {% endfor %} {% else %}
    <tr>
      <td colspan="7" class="py-8 text-center text-gray-500">
        <i class="fas fa-info-circle mr-2"></i>No trade history
      </td>
    </tr>
    {% endif %}
  </tbody>
</table>
