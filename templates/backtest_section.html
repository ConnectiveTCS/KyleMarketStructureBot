<div class="bg-white shadow rounded-lg p-4 mb-6" id="backtest-section">
  <h2 class="text-xl font-semibold mb-4">Backtest</h2>

  <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-4">
    <div>
      <label class="block text-sm font-medium text-gray-700 mb-1"
        >Start Date</label
      >
      <input
        type="date"
        id="backtest-start-date"
        class="w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"
      />
    </div>
    <div>
      <label class="block text-sm font-medium text-gray-700 mb-1"
        >End Date</label
      >
      <input
        type="date"
        id="backtest-end-date"
        class="w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"
      />
    </div>
  </div>

  <div class="flex justify-end mb-4">
    <button
      id="run-backtest-button"
      class="px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500"
    >
      Run Backtest
    </button>
  </div>

  <!-- Loading indicator -->
  <div id="backtest-loading" class="hidden text-center py-10">
    <div
      class="animate-spin h-10 w-10 border-4 border-blue-500 border-t-transparent rounded-full mx-auto"
    ></div>
    <p class="mt-3 text-gray-600">Running backtest, please wait...</p>
  </div>

  <!-- Results container (hidden by default) -->
  <div id="backtest-results" class="hidden">
    <div class="grid grid-cols-2 md:grid-cols-4 gap-4 mb-6">
      <div class="bg-gray-50 p-3 rounded-md">
        <h3 class="text-sm font-medium text-gray-500">Total Trades</h3>
        <p class="text-xl font-semibold mt-1" id="total-trades">0</p>
      </div>
      <div class="bg-gray-50 p-3 rounded-md">
        <h3 class="text-sm font-medium text-gray-500">Win Rate</h3>
        <p class="text-xl font-semibold mt-1" id="win-rate">0%</p>
      </div>
      <div class="bg-gray-50 p-3 rounded-md">
        <h3 class="text-sm font-medium text-gray-500">Profit Factor</h3>
        <p class="text-xl font-semibold mt-1" id="profit-factor">0</p>
      </div>
      <div class="bg-gray-50 p-3 rounded-md">
        <h3 class="text-sm font-medium text-gray-500">Total P&L</h3>
        <p class="text-xl font-semibold mt-1" id="total-profit">$0.00</p>
      </div>
    </div>

    <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-6">
      <div>
        <h3 class="text-md font-medium mb-2">Performance Metrics</h3>
        <table class="min-w-full divide-y divide-gray-200">
          <tbody class="bg-white divide-y divide-gray-200">
            <tr>
              <td class="px-4 py-2 text-sm text-gray-500">Winning Trades</td>
              <td class="px-4 py-2 text-sm font-medium" id="winning-trades">
                0
              </td>
            </tr>
            <tr>
              <td class="px-4 py-2 text-sm text-gray-500">Losing Trades</td>
              <td class="px-4 py-2 text-sm font-medium" id="losing-trades">
                0
              </td>
            </tr>
            <tr>
              <td class="px-4 py-2 text-sm text-gray-500">Average Win</td>
              <td class="px-4 py-2 text-sm font-medium" id="avg-win">$0.00</td>
            </tr>
            <tr>
              <td class="px-4 py-2 text-sm text-gray-500">Average Loss</td>
              <td class="px-4 py-2 text-sm font-medium" id="avg-loss">$0.00</td>
            </tr>
            <tr>
              <td class="px-4 py-2 text-sm text-gray-500">Max Drawdown</td>
              <td class="px-4 py-2 text-sm font-medium" id="max-drawdown">
                0%
              </td>
            </tr>
            <tr>
              <td class="px-4 py-2 text-sm text-gray-500">Final Balance</td>
              <td class="px-4 py-2 text-sm font-medium" id="final-balance">
                $10,000.00
              </td>
            </tr>
          </tbody>
        </table>
      </div>

      <div>
        <h3 class="text-md font-medium mb-2">Equity Curve</h3>
        <div id="equity-chart" class="h-64 bg-gray-50 rounded-md"></div>
      </div>
    </div>

    <h3 class="text-md font-medium mb-2">Trade List</h3>
    <div class="overflow-x-auto">
      <table class="min-w-full divide-y divide-gray-200">
        <thead class="bg-gray-50">
          <tr>
            <th
              class="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"
            >
              Entry Time
            </th>
            <th
              class="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"
            >
              Exit Time
            </th>
            <th
              class="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"
            >
              Type
            </th>
            <th
              class="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"
            >
              Entry
            </th>
            <th
              class="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"
            >
              Exit
            </th>
            <th
              class="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"
            >
              P&L
            </th>
            <th
              class="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"
            >
              Reason
            </th>
          </tr>
        </thead>
        <tbody id="trade-list" class="bg-white divide-y divide-gray-200">
          <!-- Trade rows will be inserted here -->
        </tbody>
      </table>
    </div>
  </div>
</div>
